import { ElementType, ReactNode } from 'react'
import './index.css'
import { NavLink } from 'react-router-dom'
import { DashboardMenus, MasterMenus, OperationMenus, ConfigurationMenus } from '../../data/sidebar';
import AccessAlarmIcon from '@mui/icons-material/AccessAlarm';
import KeyboardArrowRightOutlinedIcon from '@mui/icons-material/KeyboardArrowRightOutlined';
import ToggleOnOutlinedIcon from '@mui/icons-material/ToggleOnOutlined';
import React from 'react';

type SidebarItemProps = {
    Icon: ElementType,
    title: string,
    url: string,
}

type SidebarSectionProps = {
    children: ReactNode,
    title?: string,
}


export function PageHeaderFirstSection() {
    return (
        <div className=" flex justify-between px-2 py-2 items-center flex-shrink-0">
            <div className="flex justify-between gap-2 items-center flex-shrink-0">
                <svg width="33" height="33" viewBox="0 0 33 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 0.519531H8.03802V32.6716H0V0.519531Z" fill="#D51130"/>
                    <path d="M12.0602 11.2353H20.0983V32.67H12.0602V11.2353Z" fill="#D51130"/>
                    <path d="M24.1124 21.955H32.1505V32.6724H24.1124V21.955Z" fill="#D51130"/>
                </svg>
                <svg width="100" height="16" viewBox="0 0 100 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.51517 11.5483C9.51517 12.8432 9.04553 13.8529 8.10626 14.5775C7.16699 15.3021 5.89227 15.6644 4.28209 15.6644C2.53772 15.6644 1.19591 15.4396 0.256637 14.9901V13.3397C0.860454 13.5946 1.51794 13.7959 2.22911 13.9435C2.94027 14.0911 3.64472 14.1649 4.34247 14.1649C5.48301 14.1649 6.34177 13.9502 6.91876 13.5208C7.49574 13.0847 7.78423 12.4809 7.78423 11.7094C7.78423 11.1995 7.68024 10.7835 7.47225 10.4615C7.27098 10.1327 6.92882 9.83081 6.44577 9.55574C5.96942 9.28066 5.24148 8.96869 4.26196 8.61982C2.89331 8.13006 1.91378 7.54972 1.32338 6.87881C0.739691 6.20791 0.447846 5.33237 0.447846 4.25221C0.447846 3.11837 0.873872 2.216 1.72593 1.54509C2.57798 0.874185 3.7051 0.538731 5.1073 0.538731C6.56988 0.538731 7.91505 0.807094 9.14282 1.34382L8.60944 2.83324C7.3951 2.32335 6.2143 2.0684 5.06705 2.0684C4.16132 2.0684 3.45351 2.26297 2.94362 2.65209C2.43373 3.04122 2.17879 3.5813 2.17879 4.27234C2.17879 4.78223 2.27272 5.20154 2.46057 5.53029C2.64842 5.85232 2.96375 6.15088 3.40655 6.42595C3.85606 6.69431 4.54039 6.99287 5.45953 7.32161C7.00262 7.87176 8.06265 8.46216 8.63963 9.09281C9.22332 9.72346 9.51517 10.542 9.51517 11.5483Z" fill="#101010"/>
<path d="M22.7871 15.4631H14.5852V0.750067H22.7871V2.26967H16.296V7.00964H22.3946V8.51918H16.296V13.9334H22.7871V15.4631Z" fill="#101010"/>
<path d="M31.8624 8.10658L35.7873 0.750067H37.639L32.7279 9.75701V15.4631H30.997V9.83752L26.096 0.750067H27.9678L31.8624 8.10658Z" fill="#101010"/>
<path d="M41.7329 0.750067H45.8891C47.8415 0.750067 49.2537 1.04191 50.1259 1.6256C50.9981 2.20929 51.4342 3.13179 51.4342 4.3931C51.4342 5.26528 51.1893 5.98651 50.6995 6.55678C50.2165 7.12034 49.5087 7.48599 48.5761 7.65371V7.75435C50.8102 8.13677 51.9273 9.31085 51.9273 11.2766C51.9273 12.5916 51.4811 13.6181 50.5888 14.3561C49.7032 15.0941 48.4621 15.4631 46.8653 15.4631H41.7329V0.750067ZM43.4437 7.04989H46.2615C47.4691 7.04989 48.3379 6.86204 48.868 6.48633C49.398 6.10391 49.663 5.4632 49.663 4.56418C49.663 3.73896 49.3678 3.14521 48.7774 2.78292C48.187 2.41392 47.2477 2.22942 45.9596 2.22942H43.4437V7.04989ZM43.4437 8.49906V14.0039H46.5131C47.7006 14.0039 48.5929 13.7757 49.19 13.3195C49.7938 12.8566 50.0957 12.1354 50.0957 11.1559C50.0957 10.2434 49.7871 9.57251 49.1699 9.14313C48.5593 8.71375 47.6268 8.49906 46.3722 8.49906H43.4437Z" fill="#101010"/>
<path d="M69.9291 8.08645C69.9291 10.4413 69.332 12.293 68.1378 13.6416C66.9503 14.9901 65.2965 15.6644 63.1764 15.6644C61.0094 15.6644 59.3355 15.0035 58.1547 13.6818C56.9806 12.3534 56.3935 10.4816 56.3935 8.06632C56.3935 5.67118 56.9839 3.81612 58.1647 2.50114C59.3455 1.17945 61.0228 0.518604 63.1965 0.518604C65.3099 0.518604 66.9603 1.18951 68.1479 2.53133C69.3354 3.87314 69.9291 5.72485 69.9291 8.08645ZM58.205 8.08645C58.205 10.079 58.6277 11.5919 59.473 12.6251C60.3251 13.6516 61.5595 14.1649 63.1764 14.1649C64.8067 14.1649 66.0378 13.6516 66.8698 12.6251C67.7017 11.5987 68.1177 10.0858 68.1177 8.08645C68.1177 6.10727 67.7017 4.60779 66.8698 3.58801C66.0445 2.56152 64.8201 2.04827 63.1965 2.04827C61.5662 2.04827 60.3251 2.56487 59.473 3.59807C58.6277 4.62456 58.205 6.12069 58.205 8.08645Z" fill="#101010"/>
<path d="M75.2809 15.4631V0.750067H76.9918V13.9133H83.4828V15.4631H75.2809Z" fill="#101010"/>
<path d="M99.7939 7.96568C99.7939 10.3944 99.1331 12.2528 97.8114 13.5409C96.4964 14.8224 94.6011 15.4631 92.1254 15.4631H88.0497V0.750067H92.5582C94.846 0.750067 96.6239 1.38408 97.8919 2.65209C99.1599 3.92011 99.7939 5.69131 99.7939 7.96568ZM97.9825 8.02607C97.9825 6.10727 97.4994 4.66146 96.5333 3.68864C95.5739 2.71583 94.1449 2.22942 92.2462 2.22942H89.7605V13.9837H91.8437C93.8832 13.9837 95.4162 13.4839 96.4427 12.4843C97.4692 11.4779 97.9825 9.99183 97.9825 8.02607Z" fill="#101010"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M0.0505371 15.1199V13.0289L0.336808 13.1498C0.92704 13.399 1.57156 13.5965 2.27099 13.7417C2.96894 13.8865 3.65936 13.9588 4.34247 13.9588C5.46233 13.9588 6.26904 13.7471 6.79505 13.356C7.31625 12.9618 7.57813 12.4211 7.57813 11.7094C7.57813 11.2263 7.47956 10.8527 7.29912 10.5733L7.29643 10.5691C7.1196 10.2803 6.80911 9.99982 6.34378 9.73484L6.3427 9.73422C5.88283 9.46866 5.16899 9.16165 4.19281 8.81397C2.80968 8.31903 1.79228 7.72363 1.16866 7.01497L1.16789 7.01409C0.544925 6.29804 0.241746 5.37094 0.241746 4.25221C0.241746 3.05854 0.694179 2.09517 1.59843 1.38316C2.49628 0.676192 3.67254 0.332627 5.10731 0.332627C6.59568 0.332627 7.96928 0.60586 9.22538 1.15497L9.40175 1.23208L8.73016 3.10746L8.52966 3.02327C7.33687 2.52243 6.18315 2.2745 5.06705 2.2745C4.18836 2.2745 3.53048 2.4635 3.06866 2.81593C2.61427 3.16271 2.3849 3.63981 2.3849 4.27233C2.3849 4.75789 2.47442 5.13871 2.63908 5.42726C2.80448 5.71039 3.09005 5.98646 3.51377 6.24992C3.9459 6.50765 4.61469 6.80055 5.52894 7.12755C7.07925 7.68028 8.179 8.28425 8.7913 8.95325C9.41592 9.62836 9.72128 10.4998 9.72128 11.5483C9.72128 12.9003 9.22711 13.9731 8.23215 14.7407C7.24585 15.5015 5.9217 15.8705 4.28209 15.8705C2.52508 15.8705 1.14742 15.6449 0.167669 15.176L0.0505371 15.1199ZM8.63963 9.09281C8.06265 8.46216 7.00262 7.87176 5.45953 7.32161C4.54039 6.99287 3.85606 6.69431 3.40655 6.42595C2.96375 6.15088 2.64842 5.85232 2.46057 5.53029C2.27272 5.20154 2.17879 4.78223 2.17879 4.27234C2.17879 3.5813 2.43373 3.04122 2.94362 2.65209C3.45351 2.26297 4.16132 2.0684 5.06705 2.0684C6.15409 2.0684 7.27125 2.29729 8.41852 2.75506C8.48207 2.78042 8.54571 2.80648 8.60944 2.83324L9.14282 1.34382C7.91505 0.807094 6.56988 0.538731 5.1073 0.538731C3.7051 0.538731 2.57798 0.874185 1.72593 1.54509C0.873872 2.216 0.447846 3.11837 0.447846 4.25221C0.447846 5.33237 0.739691 6.20791 1.32338 6.87881C1.91378 7.54972 2.89331 8.13006 4.26196 8.61982C5.24148 8.96869 5.96942 9.28066 6.44577 9.55574C6.92882 9.83081 7.27098 10.1327 7.47225 10.4615C7.68024 10.7835 7.78423 11.1995 7.78423 11.7094C7.78423 12.4809 7.49574 13.0847 6.91876 13.5208C6.34177 13.9502 5.48301 14.1649 4.34247 14.1649C3.64472 14.1649 2.94027 14.0911 2.22911 13.9435C1.59806 13.8125 1.00927 13.6393 0.462743 13.4238C0.393361 13.3964 0.324657 13.3684 0.256637 13.3397V14.9901C1.19591 15.4396 2.53772 15.6644 4.28209 15.6644C5.89227 15.6644 7.16699 15.3021 8.10626 14.5775C9.04553 13.8529 9.51517 12.8432 9.51517 11.5483C9.51517 10.542 9.22332 9.72346 8.63963 9.09281ZM22.9932 15.6692H14.3791V0.543963H22.9932V2.47578H16.5021V6.80354H22.6007V8.72529H16.5021V13.7273H22.9932V15.6692ZM16.296 13.9334V8.51918H22.3946V7.00964H16.296V2.26967H22.7871V0.750067H14.5852V15.4631H22.7871V13.9334H16.296ZM32.7279 9.75701V15.4631H30.997V9.83752L26.096 0.750067H27.9678L31.8624 8.10658L35.7873 0.750067H37.639L32.7279 9.75701ZM31.8632 7.66741L28.0919 0.543963H25.7507L30.7909 9.88955V15.6692H32.934V9.80955L37.9861 0.543963H35.6636L31.8632 7.66741ZM41.5268 0.543963H45.8891C47.8522 0.543963 49.316 0.835574 50.2405 1.45432C51.182 2.08435 51.6403 3.07894 51.6403 4.3931C51.6403 5.3062 51.3828 6.07753 50.8559 6.69106C50.4594 7.15358 49.9277 7.48596 49.2712 7.69512C50.1001 7.91875 50.7605 8.2769 51.2388 8.77966C51.8413 9.41287 52.1334 10.2528 52.1334 11.2766C52.1334 12.6434 51.6668 13.7317 50.7208 14.5144C49.7861 15.2933 48.4918 15.6692 46.8653 15.6692H41.5268V0.543963ZM50.5888 14.3561C51.4811 13.6181 51.9273 12.5916 51.9273 11.2766C51.9273 9.39453 50.9033 8.23816 48.8553 7.80749C48.7703 7.78959 48.6834 7.77296 48.5948 7.75757C48.5886 7.75649 48.5823 7.75542 48.5761 7.75435V7.65371C48.5821 7.65265 48.588 7.65157 48.5939 7.65048C48.6823 7.63429 48.7687 7.61631 48.8531 7.59654C49.65 7.40975 50.2655 7.06316 50.6995 6.55678C51.1893 5.98651 51.4342 5.26528 51.4342 4.3931C51.4342 3.13179 50.9981 2.20929 50.1259 1.6256C49.2537 1.04191 47.8415 0.750067 45.8891 0.750067H41.7329V15.4631H46.8653C48.4621 15.4631 49.7032 15.0941 50.5888 14.3561ZM48.6696 2.95858L48.6682 2.9577C48.1281 2.62016 47.2371 2.43552 45.9596 2.43552H43.6498V6.84379H46.2615C47.4574 6.84379 48.2718 6.65588 48.7481 6.31869C49.2054 5.98835 49.4569 5.4234 49.4569 4.56418C49.4569 3.79459 49.1864 3.27571 48.6696 2.95858ZM48.868 6.48633C48.3379 6.86204 47.4691 7.04989 46.2615 7.04989H43.4437V2.22942H45.9596C47.2477 2.22942 48.187 2.41392 48.7774 2.78292C49.3678 3.14521 49.663 3.73896 49.663 4.56418C49.663 5.4632 49.398 6.10391 48.868 6.48633ZM49.0522 9.31232L49.0513 9.31172C48.492 8.91834 47.6104 8.70516 46.3722 8.70516H43.6498V13.7978H46.5131C47.6798 13.7978 48.5192 13.5727 49.0649 13.1558C49.6035 12.7426 49.8896 12.0913 49.8896 11.1559C49.8896 10.2945 49.6018 9.69469 49.0522 9.31232ZM49.19 13.3195C48.5929 13.7757 47.7006 14.0039 46.5131 14.0039H43.4437V8.49906H46.3722C47.6268 8.49906 48.5593 8.71375 49.1699 9.14313C49.7871 9.57251 50.0957 10.2434 50.0957 11.1559C50.0957 12.1354 49.7938 12.8566 49.19 13.3195ZM58.001 13.8191L58.0002 13.8183C56.7824 12.4405 56.1874 10.5135 56.1874 8.06632C56.1874 5.6386 56.7861 3.72792 58.0114 2.36343C59.2399 0.988545 60.9787 0.3125 63.1965 0.3125C65.3573 0.3125 67.0685 1.0007 68.3022 2.39474C69.5325 3.78488 70.1352 5.69083 70.1352 8.08645C70.1352 10.4756 69.529 12.3812 68.2925 13.7778C67.0587 15.1788 65.344 15.8705 63.1764 15.8705C60.9649 15.8705 59.2294 15.1941 58.001 13.8191ZM68.1378 13.6416C69.332 12.293 69.9291 10.4413 69.9291 8.08645C69.9291 5.72485 69.3354 3.87314 68.1479 2.53133C66.9603 1.18951 65.3099 0.518604 63.1965 0.518604C61.0228 0.518604 59.3455 1.17945 58.1647 2.50114C56.9839 3.81612 56.3935 5.67118 56.3935 8.06632C56.3935 10.4816 56.9806 12.3534 58.1547 13.6818C59.3355 15.0035 61.0094 15.6644 63.1764 15.6644C65.2965 15.6644 66.9503 14.9901 68.1378 13.6416ZM66.7101 3.71829L66.7091 3.71715C65.9321 2.75055 64.7737 2.25438 63.1965 2.25438C61.6131 2.25438 60.4364 2.75377 59.632 3.7292C58.8287 4.70472 58.4111 6.14645 58.4111 8.08645C58.4111 10.0537 58.8289 11.5121 59.6322 12.4942C60.4367 13.4631 61.6069 13.9588 63.1764 13.9588C64.7605 13.9588 65.9259 13.4624 66.7096 12.4954C67.4999 11.5203 67.9116 10.0617 67.9116 8.08645C67.9116 6.13179 67.5001 4.68675 66.7101 3.71829ZM59.473 12.6251C58.6277 11.5919 58.205 10.079 58.205 8.08645C58.205 6.12069 58.6277 4.62456 59.473 3.59807C60.3251 2.56487 61.5662 2.04827 63.1965 2.04827C64.8201 2.04827 66.0445 2.56152 66.8698 3.58801C67.7017 4.60779 68.1177 6.10727 68.1177 8.08645C68.1177 10.0858 67.7017 11.5987 66.8698 12.6251C66.0378 13.6516 64.8067 14.1649 63.1764 14.1649C61.5595 14.1649 60.3251 13.6516 59.473 12.6251ZM75.0748 15.6692V0.543963H77.1979V13.7072H83.6889V15.6692H75.0748ZM76.9918 13.9133V0.750067H75.2809V15.4631H83.4828V13.9133H76.9918ZM87.8436 15.6692V0.543963H92.5582C94.8848 0.543963 96.7211 1.18978 98.0376 2.50635C99.354 3.82271 100 5.65206 100 7.96568C100 10.4317 99.3282 12.3504 97.9552 13.6885L97.8114 13.5409C99.1331 12.2528 99.7939 10.3944 99.7939 7.96568C99.7939 5.69131 99.1599 3.92011 97.8919 2.65209C96.6239 1.38408 94.846 0.750067 92.5582 0.750067H88.0497V15.4631H92.1254C94.6011 15.4631 96.4964 14.8224 97.8114 13.5409L97.9552 13.6885C96.5899 15.019 94.6356 15.6692 92.1254 15.6692H87.8436ZM96.3866 3.83337C95.479 2.91308 94.1116 2.43552 92.2462 2.43552H89.9666V13.7776H91.8437C93.852 13.7776 95.3242 13.2856 96.2984 12.3371M91.8437 13.9837C93.8832 13.9837 95.4162 13.4839 96.4427 12.4843C97.4692 11.4779 97.9825 9.99183 97.9825 8.02607C97.9825 6.10727 97.4994 4.66146 96.5333 3.68864C95.5739 2.71583 94.1449 2.22942 92.2462 2.22942H89.7605V13.9837H91.8437ZM96.3866 3.83337C97.3012 4.75433 97.7764 6.13964 97.7764 8.02607L96.3866 3.83337ZM97.7764 8.02607C97.7764 9.95702 97.2723 11.382 96.2984 12.3371L97.7764 8.02607Z" fill="black"/>
                </svg>

            </div>
            <button>
                <svg width="60" height="31" viewBox="0 0 60 31" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="60" height="31" rx="15.5" fill="#010B1A"/>
<path d="M17.7571 9.00578C17.8563 9.00578 17.9547 9.00578 18.0523 9.00578C17.0875 9.8679 16.4674 11.0279 16.2997 12.2841C16.132 13.5403 16.4274 14.8133 17.1344 15.8819C17.8414 16.9504 18.9154 17.7469 20.1697 18.1328C21.424 18.5188 22.7793 18.4699 24 17.9946C23.5304 19.0811 22.763 20.0247 21.7795 20.7247C20.796 21.4247 19.6334 21.8549 18.4157 21.9692C17.1979 22.0836 15.9708 21.8779 14.8651 21.3741C13.7593 20.8703 12.8166 20.0873 12.1373 19.1087C11.458 18.13 11.0677 16.9923 11.008 15.817C10.9484 14.6418 11.2215 13.4729 11.7984 12.4353C12.3753 11.3976 13.2343 10.53 14.2837 9.92497C15.3331 9.31998 16.5336 9.00028 17.7571 9V9.00578Z" stroke="#F0F2F5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M40.487 15.0011C40.487 16.198 40.9624 17.3458 41.8088 18.1921C42.6551 19.0385 43.8029 19.5139 44.9998 19.5139C46.1967 19.5139 47.3445 19.0385 48.1908 18.1921C49.0372 17.3458 49.5126 16.198 49.5126 15.0011C49.5126 13.8042 49.0372 12.6564 48.1908 11.8101C47.3445 10.9637 46.1967 10.4883 44.9998 10.4883C43.8029 10.4883 42.6551 10.9637 41.8088 11.8101C40.9624 12.6564 40.487 13.8042 40.487 15.0011Z" stroke="#2C3E50" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M37 15H37.8889M45 7V7.88889M52.1111 15H53M45 22.1111V23M39.3111 9.31111L39.9333 9.93333M50.6889 9.31111L50.0667 9.93333M50.0667 20.0667L50.6889 20.6889M39.9333 20.0667L39.3111 20.6889" stroke="#2C3E50" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<circle cx="44.5" cy="15.5" r="12.5" fill="#F9FBFF"/>
</svg>

            </button>
        </div>
    )
}

export function SidebarSection({children, title}: SidebarSectionProps){

    const childrenArray = React.Children.toArray(children)

    return <>
        {
        <div className='pb-3'>
            <p className='text-[#C0C9E0]'>{title}</p>
        </div>}
        {childrenArray}
    </>
}

export function SidebarItem({Icon, title, url}: SidebarItemProps){
    return (
        <nav>
            <NavLink className={`w-full flex items-center rounded-lg p-3 hover:pl-5 ${url==="list" ? 'pl-5 bg-[#D51130] text-white' : ''}`} to={url}>
                <div className={`w-full flex items-center justify-between px-1 ${url==="list" ? 'bg-[#D51130]' : ''}`}>
                    <div className="flex items-center gap-1]">
                        <Icon className={`w-5 h-5 ${url==="list" ? 'bg-[#D51130]' : ''}`}/>
                        <p className={`${url==="list" ? 'text-white bg-[#D51130]' : ''}`}>{title}</p>
                    </div>
                    <KeyboardArrowRightOutlinedIcon className={`w-3 h-3 ${url==="list" ? 'bg-[#D51130]' : ''}`}/>
                </div>
            </NavLink>
        </nav>
    )
}

export const Sidebar = () => {

  return (
    <>
        <aside className=" w-[305px] absolute top-0 pb-4 flex flex-col gap-2 px-2">
            <div className='pt-2 px-2 sticky top-0 '>
                <PageHeaderFirstSection />
            </div>
            <SidebarSection title=''>
                {DashboardMenus.map(dash => (
                    <SidebarItem key={dash.id} Icon={dash.Icon} title={dash.name} url={dash.url} />
                ))}
            </SidebarSection>
            <hr />
            <SidebarSection title='MASTER DATA'>
                {MasterMenus.map(menus => (
                    <SidebarItem key={menus.id} Icon={menus.Icon} title={menus.name} url={menus.url} />
                ))}
            </SidebarSection>
            <hr />
            <SidebarSection title='OPERATION'>
                {OperationMenus.map(operation => (
                    <SidebarItem key={operation.id} Icon={operation.Icon} title={operation.name} url={operation.url}/>
                ))}
            </SidebarSection>
            <hr />
            <SidebarSection title='CONFIGURATION'>
                {ConfigurationMenus.map(config => (
                    <SidebarItem key={config.id} Icon={config.Icon} title={config.name} url={config.url}/>
                ))}
            </SidebarSection>   
        </aside>
    </>
  )
}
